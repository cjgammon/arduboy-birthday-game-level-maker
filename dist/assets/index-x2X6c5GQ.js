(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Je=globalThis,zt=Je.ShadowRoot&&(Je.ShadyCSS===void 0||Je.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,qt=Symbol(),un=new WeakMap;let jn=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==qt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(zt&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=un.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&un.set(r,e))}return e}toString(){return this.cssText}};const Br=t=>new jn(typeof t=="string"?t:t+"",void 0,qt),ut=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new jn(r,t,qt)},Ir=(t,e)=>{if(zt)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=Je.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},ln=zt?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Br(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Vr,defineProperty:Hr,getOwnPropertyDescriptor:Gr,getOwnPropertyNames:Kr,getOwnPropertySymbols:Fr,getPrototypeOf:kr}=Object,k=globalThis,cn=k.trustedTypes,zr=cn?cn.emptyScript:"",St=k.reactiveElementPolyfillSupport,we=(t,e)=>t,Ye={toAttribute(t,e){switch(e){case Boolean:t=t?zr:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},Jt=(t,e)=>!Vr(t,e),fn={attribute:!0,type:String,converter:Ye,reflect:!1,hasChanged:Jt};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),k.litPropertyMetadata??(k.litPropertyMetadata=new WeakMap);class ce extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=fn){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Hr(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=Gr(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get(){return i==null?void 0:i.call(this)},set(o){const a=i==null?void 0:i.call(this);s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??fn}static _$Ei(){if(this.hasOwnProperty(we("elementProperties")))return;const e=kr(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(we("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(we("properties"))){const r=this.properties,n=[...Kr(r),...Fr(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(ln(i))}else e!==void 0&&r.push(ln(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$Eg=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$ES(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$E_??(this._$E_=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$E_)==null||r.delete(e)}_$ES(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Ir(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$E_)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$E_)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:Ye).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const o=n.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:Ye;this._$Em=i,this[i]=a.fromAttribute(r,o.type),this._$Em=null}}requestUpdate(e,r,n,i=!1,s){if(e!==void 0){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??Jt)(i?s:this[e],r))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.C(s,this[s],o)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$E_)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$ET()}catch(i){throw e=!1,this._$ET(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$E_)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EO(r,this[r]))),this._$ET()}updated(e){}firstUpdated(e){}}ce.elementStyles=[],ce.shadowRootOptions={mode:"open"},ce[we("elementProperties")]=new Map,ce[we("finalized")]=new Map,St==null||St({ReactiveElement:ce}),(k.reactiveElementVersions??(k.reactiveElementVersions=[])).push("2.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pe=globalThis,Ze=Pe.trustedTypes,hn=Ze?Ze.createPolicy("lit-html",{createHTML:t=>t}):void 0,Un="$lit$",K=`lit$${(Math.random()+"").slice(9)}$`,Ln="?"+K,qr=`<${Ln}>`,Q=document,Ce=()=>Q.createComment(""),Ne=t=>t===null||typeof t!="object"&&typeof t!="function",Mn=Array.isArray,Jr=t=>Mn(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Et=`[ 	
\f\r]`,$e=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,dn=/-->/g,_n=/>/g,W=RegExp(`>|${Et}(?:([^\\s"'>=/]+)(${Et}*=${Et}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),vn=/'/g,pn=/"/g,Dn=/^(?:script|style|textarea|title)$/i,Wr=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),z=Wr(1),ve=Symbol.for("lit-noChange"),y=Symbol.for("lit-nothing"),gn=new WeakMap,X=Q.createTreeWalker(Q,129);function Bn(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return hn!==void 0?hn.createHTML(e):e}const Xr=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=$e;for(let a=0;a<r;a++){const u=t[a];let l,c,h=-1,_=0;for(;_<u.length&&(o.lastIndex=_,c=o.exec(u),c!==null);)_=o.lastIndex,o===$e?c[1]==="!--"?o=dn:c[1]!==void 0?o=_n:c[2]!==void 0?(Dn.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=W):c[3]!==void 0&&(o=W):o===W?c[0]===">"?(o=i??$e,h=-1):c[1]===void 0?h=-2:(h=o.lastIndex-c[2].length,l=c[1],o=c[3]===void 0?W:c[3]==='"'?pn:vn):o===pn||o===vn?o=W:o===dn||o===_n?o=$e:(o=W,i=void 0);const b=o===W&&t[a+1].startsWith("/>")?" ":"";s+=o===$e?u+qr:h>=0?(n.push(l),u.slice(0,h)+Un+u.slice(h)+K+b):u+K+(h===-2?a:b)}return[Bn(t,s+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class Te{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,u=this.parts,[l,c]=Xr(e,r);if(this.el=Te.createElement(l,n),X.currentNode=this.el.content,r===2){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=X.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Un)){const _=c[o++],b=i.getAttribute(h).split(K),x=/([.?@])?(.*)/.exec(_);u.push({type:1,index:s,name:x[2],strings:b,ctor:x[1]==="."?Zr:x[1]==="?"?Qr:x[1]==="@"?ei:lt}),i.removeAttribute(h)}else h.startsWith(K)&&(u.push({type:6,index:s}),i.removeAttribute(h));if(Dn.test(i.tagName)){const h=i.textContent.split(K),_=h.length-1;if(_>0){i.textContent=Ze?Ze.emptyScript:"";for(let b=0;b<_;b++)i.append(h[b],Ce()),X.nextNode(),u.push({type:2,index:++s});i.append(h[_],Ce())}}}else if(i.nodeType===8)if(i.data===Ln)u.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(K,h+1))!==-1;)u.push({type:7,index:s}),h+=K.length-1}s++}}static createElement(e,r){const n=Q.createElement("template");return n.innerHTML=e,n}}function pe(t,e,r=t,n){var o,a;if(e===ve)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=Ne(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=pe(t,i._$AS(t,e.values),i,n)),e}class Yr{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Q).importNode(r,!0);X.currentNode=i;let s=X.nextNode(),o=0,a=0,u=n[0];for(;u!==void 0;){if(o===u.index){let l;u.type===2?l=new Be(s,s.nextSibling,this,e):u.type===1?l=new u.ctor(s,u.name,u.strings,this,e):u.type===6&&(l=new ti(s,this,e)),this._$AV.push(l),u=n[++a]}o!==(u==null?void 0:u.index)&&(s=X.nextNode(),o++)}return X.currentNode=Q,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Be{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=y,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=pe(this,e,r),Ne(e)?e===y||e==null||e===""?(this._$AH!==y&&this._$AR(),this._$AH=y):e!==this._$AH&&e!==ve&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Jr(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==y&&Ne(this._$AH)?this._$AA.nextSibling.data=e:this.$(Q.createTextNode(e)),this._$AH=e}g(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Te.createElement(Bn(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new Yr(i,this),a=o.u(this.options);o.p(r),this.$(a),this._$AH=o}}_$AC(e){let r=gn.get(e.strings);return r===void 0&&gn.set(e.strings,r=new Te(e)),r}T(e){Mn(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Be(this.k(Ce()),this.k(Ce()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class lt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=y,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=y}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=pe(this,e,r,0),o=!Ne(e)||e!==this._$AH&&e!==ve,o&&(this._$AH=e);else{const a=e;let u,l;for(e=s[0],u=0;u<s.length-1;u++)l=pe(this,a[n+u],r,u),l===ve&&(l=this._$AH[u]),o||(o=!Ne(l)||l!==this._$AH[u]),l===y?e=y:e!==y&&(e+=(l??"")+s[u+1]),this._$AH[u]=l}o&&!i&&this.O(e)}O(e){e===y?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Zr extends lt{constructor(){super(...arguments),this.type=3}O(e){this.element[this.name]=e===y?void 0:e}}class Qr extends lt{constructor(){super(...arguments),this.type=4}O(e){this.element.toggleAttribute(this.name,!!e&&e!==y)}}class ei extends lt{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=pe(this,e,r,0)??y)===ve)return;const n=this._$AH,i=e===y&&n!==y||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==y&&(n===y||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class ti{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){pe(this,e)}}const $t=Pe.litHtmlPolyfillSupport;$t==null||$t(Te,Be),(Pe.litHtmlVersions??(Pe.litHtmlVersions=[])).push("3.1.0");const ni=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Be(e.insertBefore(Ce(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Y extends ce{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ni(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ve}}var Tn;Y._$litElement$=!0,Y.finalized=!0,(Tn=globalThis.litElementHydrateSupport)==null||Tn.call(globalThis,{LitElement:Y});const wt=globalThis.litElementPolyfillSupport;wt==null||wt({LitElement:Y});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ct=t=>(e,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ri={attribute:!0,type:String,converter:Ye,reflect:!1,hasChanged:Jt},ii=(t=ri,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,t),n==="accessor"){const{name:o}=r;return{set(a){const u=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,u,t)},init(a){return a!==void 0&&this.C(o,void 0,t),a}}}if(n==="setter"){const{name:o}=r;return function(a){const u=this[o];e.call(this,a),this.requestUpdate(o,u,t)}}throw Error("Unsupported decorator location: "+n)};function In(t){return(e,r)=>typeof r=="object"?ii(t,e,r):((n,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?{...n,wrapped:!0}:n),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Vn(t){return In({...t,state:!0,attribute:!1})}const si="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAAXNSR0IArs4c6QAAACxJREFUCJlljTEOACAQg+jF/38ZJ02jHUkJAVR5tw5McqHKNOzTtN5WgD8AbLwHDgmHMWNqAAAAAElFTkSuQmCC";function p(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var oi={};function Hn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:oi}var Gn=Object.assign,Qe=Object.getOwnPropertyDescriptor,M=Object.defineProperty,ft=Object.prototype,jt=[];Object.freeze(jt);var Kn={};Object.freeze(Kn);var ai=typeof Proxy<"u",ui=Object.toString();function Fn(){ai||p("Proxy not available")}function kn(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var fe=function(){};function N(t){return typeof t=="function"}function ee(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function ht(t){return t!==null&&typeof t=="object"}function q(t){if(!ht(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===ui}function zn(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function dt(t,e,r){M(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function qn(t,e,r){M(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function ie(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return ht(n)&&n[r]===!0}}function ye(t){return t instanceof Map}function Ie(t){return t instanceof Set}var Jn=typeof Object.getOwnPropertySymbols<"u";function li(t){var e=Object.keys(t);if(!Jn)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return ft.propertyIsEnumerable.call(t,n)})):e}var _t=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Jn?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function Wn(t){return t===null?null:typeof t=="object"?""+t:t}function V(t,e){return ft.hasOwnProperty.call(t,e)}var ci=Object.getOwnPropertyDescriptors||function(e){var r={};return _t(e).forEach(function(n){r[n]=Qe(e,n)}),r};function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,di(n.key),n)}}function Wt(t,e,r){return e&&bn(t.prototype,e),r&&bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},te.apply(this,arguments)}function Xn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ut(t,e)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ut(t,e)}function Pt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fi(t,e){if(t){if(typeof t=="string")return mn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mn(t,e)}}function mn(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function he(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=fi(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hi(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(t){var e=hi(t,"string");return typeof e=="symbol"?e:String(e)}var L=Symbol("mobx-stored-annotations");function D(t){function e(r,n){if(Ve(n))return t.decorate_20223_(r,n);Ae(r,n,t)}return Object.assign(e,t)}function Ae(t,e,r){V(t,L)||dt(t,L,te({},t[L])),Oi(r)||(t[L][e]=r)}function _i(t){return V(t,L)||dt(t,L,te({},t[L])),t[L]}function Ve(t){return typeof t=="object"&&typeof t.kind=="string"}var d=Symbol("mobx administration"),He=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=v.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return dr(this)},e.reportChanged=function(){w(),_r(this),P()},e.toString=function(){return this.name_},t}(),Xt=ie("Atom",He);function Yn(t,e,r){e===void 0&&(e=fe),r===void 0&&(r=fe);var n=new He(t);return e!==fe&&Es(n,e),r!==fe&&yr(n,r),n}function vi(t,e){return t===e}function pi(t,e){return sn(t,e)}function gi(t,e){return sn(t,e,1)}function bi(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var et={identity:vi,structural:pi,default:bi,shallow:gi};function ne(t,e,r){return Sr(t)?t:Array.isArray(t)?m.array(t,{name:r}):q(t)?m.object(t,void 0,{name:r}):ye(t)?m.map(t,{name:r}):Ie(t)?m.set(t,{name:r}):typeof t=="function"&&!mt(t)&&!Ue(t)?zn(t)?be(t):je(r,t):t}function mi(t,e,r){if(t==null||Le(t)||yt(t)||oe(t)||Oe(t))return t;if(Array.isArray(t))return m.array(t,{name:r,deep:!1});if(q(t))return m.object(t,void 0,{name:r,deep:!1});if(ye(t))return m.map(t,{name:r,deep:!1});if(Ie(t))return m.set(t,{name:r,deep:!1})}function vt(t){return t}function yi(t,e){return sn(t,e)?e:t}var Ai="override";function Oi(t){return t.annotationType_===Ai}function Ge(t,e){return{annotationType_:t,options_:e,make_:Si,extend_:Ei,decorate_20223_:$i}}function Si(t,e,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(mt(r.value))return 1;var s=Zn(t,this,e,r,!1);return M(n,e,s),2}function Ei(t,e,r,n){var i=Zn(t,this,e,r);return t.defineProperty_(e,i,n)}function $i(t,e){var r=e.kind,n=e.name,i=e.addInitializer,s=this,o=function(l){var c,h,_,b;return re((c=(h=s.options_)==null?void 0:h.name)!=null?c:n.toString(),l,(_=(b=s.options_)==null?void 0:b.autoAction)!=null?_:!1)};if(r=="field"){i(function(){Ae(this,n,s)});return}if(r=="method"){var a;return mt(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,l=u[n].bind(u);l.isMobxAction=!0,u[n]=l}),t}p("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function wi(t,e,r,n){e.annotationType_,n.value}function Zn(t,e,r,n,i){var s,o,a,u,l,c,h;i===void 0&&(i=f.safeDescriptors),wi(t,e,r,n);var _=n.value;if((s=e.options_)!=null&&s.bound){var b;_=_.bind((b=t.proxy_)!=null?b:t.target_)}return{value:re((o=(a=e.options_)==null?void 0:a.name)!=null?o:r.toString(),_,(u=(l=e.options_)==null?void 0:l.autoAction)!=null?u:!1,(c=e.options_)!=null&&c.bound?(h=t.proxy_)!=null?h:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function Qn(t,e){return{annotationType_:t,options_:e,make_:Pi,extend_:xi,decorate_20223_:Ri}}function Pi(t,e,r,n){var i;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!V(t.target_,e)||!Ue(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(Ue(r.value))return 1;var s=er(t,this,e,r,!1,!1);return M(n,e,s),2}function xi(t,e,r,n){var i,s=er(t,this,e,r,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,n)}function Ri(t,e){var r,n=e.name,i=e.addInitializer;return Ue(t)||(t=be(t)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),t}function Ci(t,e,r,n){e.annotationType_,n.value}function er(t,e,r,n,i,s){s===void 0&&(s=f.safeDescriptors),Ci(t,e,r,n);var o=n.value;if(Ue(o)||(o=be(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Yt(t,e){return{annotationType_:t,options_:e,make_:Ni,extend_:Ti,decorate_20223_:ji}}function Ni(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function Ti(t,e,r,n){return Ui(t,this,e,r),t.defineComputedProperty_(e,te({},this.options_,{get:r.get,set:r.set}),n)}function ji(t,e){var r=this,n=e.name,i=e.addInitializer;return i(function(){var s=Se(this)[d],o=te({},r.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new ge(o))}),function(){return this[d].getObservablePropValue_(n)}}function Ui(t,e,r,n){e.annotationType_,n.get}function pt(t,e){return{annotationType_:t,options_:e,make_:Li,extend_:Mi,decorate_20223_:Di}}function Li(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function Mi(t,e,r,n){var i,s;return Bi(t,this),t.defineObservableProperty_(e,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:ne,n)}function Di(t,e){var r=this,n=e.kind,i=e.name,s=new WeakSet;function o(a,u){var l,c,h=Se(a)[d],_=new Z(u,(l=(c=r.options_)==null?void 0:c.enhancer)!=null?l:ne,"ObservableObject."+i.toString(),!1);h.values_.set(i,_),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[d].getObservablePropValue_(i)},set:function(u){return s.has(this)||o(this,u),this[d].setObservablePropValue_(i,u)},init:function(u){return s.has(this)||o(this,u),u}}}function Bi(t,e,r,n){e.annotationType_}var Ii="true",Vi=tr();function tr(t){return{annotationType_:Ii,options_:t,make_:Hi,extend_:Gi,decorate_20223_:Ki}}function Hi(t,e,r,n){var i,s;if(r.get)return gt.make_(t,e,r,n);if(r.set){var o=re(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:f.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(M(n,e,{configurable:!0,set:o}),2)}if(n!==t.target_&&typeof r.value=="function"){var a;if(zn(r.value)){var u,l=(u=this.options_)!=null&&u.autoBind?be.bound:be;return l.make_(t,e,r,n)}var c=(a=this.options_)!=null&&a.autoBind?je.bound:je;return c.make_(t,e,r,n)}var h=((i=this.options_)==null?void 0:i.deep)===!1?m.ref:m;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var _;r.value=r.value.bind((_=t.proxy_)!=null?_:t.target_)}return h.make_(t,e,r,n)}function Gi(t,e,r,n){var i,s;if(r.get)return gt.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:f.safeDescriptors?t.isPlainObject_:!0,set:re(e.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?m.ref:m;return a.extend_(t,e,r,n)}function Ki(t,e){p("'"+this.annotationType_+"' cannot be used as a decorator")}var Fi="observable",ki="observable.ref",zi="observable.shallow",qi="observable.struct",nr={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(nr);function ze(t){return t||nr}var Lt=pt(Fi),Ji=pt(ki,{enhancer:vt}),Wi=pt(zi,{enhancer:mi}),Xi=pt(qi,{enhancer:yi}),rr=D(Lt);function qe(t){return t.deep===!0?ne:t.deep===!1?vt:Zi(t.defaultDecorator)}function Yi(t){var e;return t?(e=t.defaultDecorator)!=null?e:tr(t):void 0}function Zi(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:ne}function ir(t,e,r){if(Ve(e))return Lt.decorate_20223_(t,e);if(ee(e)){Ae(t,e,Lt);return}return Sr(t)?t:q(t)?m.object(t,e,r):Array.isArray(t)?m.array(t,e):ye(t)?m.map(t,e):Ie(t)?m.set(t,e):typeof t=="object"&&t!==null?t:m.box(t,e)}Gn(ir,rr);var Qi={box:function(e,r){var n=ze(r);return new Z(e,qe(n),n.name,!0,n.equals)},array:function(e,r){var n=ze(r);return(f.useProxies===!1||n.proxy===!1?Ks:js)(e,qe(n),n.name)},map:function(e,r){var n=ze(r);return new Pr(e,qe(n),n.name)},set:function(e,r){var n=ze(r);return new Cr(e,qe(n),n.name)},object:function(e,r,n){return ae(function(){return $s(f.useProxies===!1||(n==null?void 0:n.proxy)===!1?Se({},n):Cs({},n),e,r)})},ref:D(Ji),shallow:D(Wi),deep:rr,struct:D(Xi)},m=Gn(ir,Qi),sr="computed",es="computed.struct",Mt=Yt(sr),ts=Yt(es,{equals:et.structural}),gt=function(e,r){if(Ve(r))return Mt.decorate_20223_(e,r);if(ee(r))return Ae(e,r,Mt);if(q(e))return D(Yt(sr,e));var n=q(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new ge(n)};Object.assign(gt,Mt);gt.struct=D(ts);var yn,An,tt=0,ns=1,rs=(yn=(An=Qe(function(){},"name"))==null?void 0:An.configurable)!=null?yn:!1,On={value:"action",configurable:!0,writable:!1,enumerable:!1};function re(t,e,r,n){r===void 0&&(r=!1);function i(){return is(t,r,e,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},rs&&(On.value=t,M(i,"name",On)),i}function is(t,e,r,n,i){var s=ss(t,e);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{os(s)}}function ss(t,e,r,n){var i=!1,s=0,o=f.trackingDerivation,a=!e||!o;w();var u=f.allowStateChanges;a&&(se(),u=Zt(!0));var l=en(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:ns++,parentActionId_:tt};return tt=c.actionId_,c}function os(t){tt!==t.actionId_&&p(30),tt=t.parentActionId_,t.error_!==void 0&&(f.suppressReactionErrors=!0),Qt(t.prevAllowStateChanges_),xe(t.prevAllowStateReads_),P(),t.runAsAction_&&H(t.prevDerivation_),f.suppressReactionErrors=!1}function Zt(t){var e=f.allowStateChanges;return f.allowStateChanges=t,e}function Qt(t){f.allowStateChanges=t}var or;or=Symbol.toPrimitive;var Z=function(t){Xn(e,t);function e(n,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=et.default),u=t.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(n,void 0,s),u}var r=e.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==f.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(E(this)){var s=$(this,{object:this,type:B,newValue:i});if(!s)return f.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?f.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),R(this)&&C(this,{type:B,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return Ke(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:B,newValue:this.value_,oldValue:void 0}),Fe(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Wn(this.get())},r[or]=function(){return this.valueOf()},e}(He),ar;ar=Symbol.toPrimitive;var ge=function(){function t(r){this.dependenciesState_=v.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=v.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new rt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=nt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||p(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=re("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?et.structural:et.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){cs(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&p(32,this.name_,this.derivation),f.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Dt(this)&&(this.warnAboutUntrackedRead_(),w(),this.value_=this.computeValue_(!1),P());else if(dr(this),Dt(this)){var n=f.trackingContext;this.keepAlive_&&!n&&(f.trackingContext=this),this.trackAndCompute()&&ls(this),f.trackingContext=n}var i=this.value_;if(We(i))throw i.cause;return i},e.set=function(n){if(this.setter_){this.isRunningSetter_&&p(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else p(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===v.NOT_TRACKING_,s=this.computeValue_(!0),o=i||We(n)||We(s)||!this.equals_(n,s);return o&&(this.value_=s),o},e.computeValue_=function(n){this.isComputing_=!0;var i=Zt(!1),s;if(n)s=ur(this,this.derivation,this.scope_);else if(f.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new rt(o)}return Qt(i),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(Bt(this),this.value_=void 0)},e.observe_=function(n,i){var s=this,o=!0,a=void 0;return mr(function(){var u=s.get();if(!o||i){var l=se();n({observableKind:"computed",debugObjectName:s.name_,type:B,object:s,newValue:u,oldValue:a}),H(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return Wn(this.get())},e[ar]=function(){return this.valueOf()},t}(),bt=ie("ComputedValue",ge),v;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(v||(v={}));var nt;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(nt||(nt={}));var rt=function(e){this.cause=void 0,this.cause=e};function We(t){return t instanceof rt}function Dt(t){switch(t.dependenciesState_){case v.UP_TO_DATE_:return!1;case v.NOT_TRACKING_:case v.STALE_:return!0;case v.POSSIBLY_STALE_:{for(var e=en(!0),r=se(),n=t.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(bt(o)){if(f.disableErrorBoundaries)o.get();else try{o.get()}catch{return H(r),xe(e),!0}if(t.dependenciesState_===v.STALE_)return H(r),xe(e),!0}}return cr(t),H(r),xe(e),!1}}}function ur(t,e,r){var n=en(!0);cr(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++f.runId;var i=f.trackingDerivation;f.trackingDerivation=t,f.inBatch++;var s;if(f.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(o){s=new rt(o)}return f.inBatch--,f.trackingDerivation=i,as(t),xe(n),s}function as(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=v.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,t.newObserving_=null,s=e.length;s--;){var u=e[s];u.diffValue_===0&&fr(u,t),u.diffValue_=0}for(;i--;){var l=r[i];l.diffValue_===1&&(l.diffValue_=0,us(l,t))}n!==v.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function Bt(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)fr(e[r],t);t.dependenciesState_=v.NOT_TRACKING_}function lr(t){var e=se();try{return t()}finally{H(e)}}function se(){var t=f.trackingDerivation;return f.trackingDerivation=null,t}function H(t){f.trackingDerivation=t}function en(t){var e=f.allowStateReads;return f.allowStateReads=t,e}function xe(t){f.allowStateReads=t}function cr(t){if(t.dependenciesState_!==v.UP_TO_DATE_){t.dependenciesState_=v.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=v.UP_TO_DATE_}}var xt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rt=!0,f=function(){var t=Hn();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Rt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new xt().version&&(Rt=!1),Rt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new xt):(setTimeout(function(){p(35)},1),new xt)}();function us(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function fr(t,e){t.observers_.delete(e),t.observers_.size===0&&hr(t)}function hr(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,f.pendingUnobservations.push(t))}function w(){f.inBatch++}function P(){if(--f.inBatch===0){vr();for(var t=f.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ge&&r.suspend_())}f.pendingUnobservations=[]}}function dr(t){var e=f.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&f.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&f.inBatch>0&&hr(t),!1)}function _r(t){t.lowestObserverState_!==v.STALE_&&(t.lowestObserverState_=v.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===v.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=v.STALE_}))}function ls(t){t.lowestObserverState_!==v.STALE_&&(t.lowestObserverState_=v.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===v.POSSIBLY_STALE_?e.dependenciesState_=v.STALE_:e.dependenciesState_===v.UP_TO_DATE_&&(t.lowestObserverState_=v.UP_TO_DATE_)}))}function cs(t){t.lowestObserverState_===v.UP_TO_DATE_&&(t.lowestObserverState_=v.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===v.UP_TO_DATE_&&(e.dependenciesState_=v.POSSIBLY_STALE_,e.onBecomeStale_())}))}var it=function(){function t(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=v.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=nt.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,f.pendingReactions.push(this),vr())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){w(),this.isScheduled_=!1;var n=f.trackingContext;if(f.trackingContext=this,Dt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}f.trackingContext=n,P()}},e.track=function(n){if(!this.isDisposed_){w(),this.isRunning_=!0;var i=f.trackingContext;f.trackingContext=this;var s=ur(this,n,void 0);f.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Bt(this),We(s)&&this.reportExceptionInDerivation_(s.cause),P()}},e.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(f.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";f.suppressReactionErrors||console.error(s,n),f.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(w(),Bt(this),P()))},e.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[d]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},t}(),fs=100,hs=function(e){return e()};function vr(){f.inBatch>0||f.isRunningReactions||hs(ds)}function ds(){f.isRunningReactions=!0;for(var t=f.pendingReactions,e=0;t.length>0;){++e===fs&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}f.isRunningReactions=!1}var st=ie("Reaction",it);function Re(){return!1}function _s(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var pr="action",vs="action.bound",gr="autoAction",ps="autoAction.bound",gs="<unnamed action>",It=Ge(pr),bs=Ge(vs,{bound:!0}),Vt=Ge(gr,{autoAction:!0}),ms=Ge(ps,{autoAction:!0,bound:!0});function br(t){var e=function(n,i){if(N(n))return re(n.name||gs,n,t);if(N(i))return re(n,i,t);if(Ve(i))return(t?Vt:It).decorate_20223_(n,i);if(ee(i))return Ae(n,i,t?Vt:It);if(ee(n))return D(Ge(t?gr:pr,{name:n,autoAction:t}))};return e}var A=br(!1);Object.assign(A,It);var je=br(!0);Object.assign(je,Vt);A.bound=D(bs);je.bound=D(ms);function mt(t){return N(t)&&t.isMobxAction===!0}function mr(t,e){var r,n,i,s,o;e===void 0&&(e=Kn);var a=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",u=!e.scheduler&&!e.delay,l;if(u)l=new it(a,function(){this.track(_)},e.onError,e.requiresObservable);else{var c=As(e),h=!1;l=new it(a,function(){h||(h=!0,c(function(){h=!1,l.isDisposed_||l.track(_)}))},e.onError,e.requiresObservable)}function _(){t(l)}return(i=e)!=null&&(s=i.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((o=e)==null?void 0:o.signal)}var ys=function(e){return e()};function As(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ys}var Os="onBO",Ss="onBUO";function Es(t,e,r){return Ar(Os,t,e,r)}function yr(t,e,r){return Ar(Ss,t,e,r)}function Ar(t,e,r,n){var i=typeof n=="function"?Me(e,r):Me(e),s=N(n)?n:r,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function $s(t,e,r,n){var i=ci(e);return ae(function(){var s=Se(t,n)[d];_t(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),t}var ws=0;function Or(){this.message="FLOW_CANCELLED"}Or.prototype=Object.create(Error.prototype);var Ct=Qn("flow"),Ps=Qn("flow.bound",{bound:!0}),be=Object.assign(function(e,r){if(Ve(r))return Ct.decorate_20223_(e,r);if(ee(r))return Ae(e,r,Ct);var n=e,i=n.name||"<unnamed flow>",s=function(){var a=this,u=arguments,l=++ws,c=A(i+" - runid: "+l+" - init",n).apply(a,u),h,_=void 0,b=new Promise(function(x,j){var U=0;h=j;function ke(O){_=void 0;var G;try{G=A(i+" - runid: "+l+" - yield "+U++,c.next).call(c,O)}catch(J){return j(J)}Ee(G)}function Ot(O){_=void 0;var G;try{G=A(i+" - runid: "+l+" - yield "+U++,c.throw).call(c,O)}catch(J){return j(J)}Ee(G)}function Ee(O){if(N(O==null?void 0:O.then)){O.then(Ee,j);return}return O.done?x(O.value):(_=Promise.resolve(O.value),_.then(ke,Ot))}ke(void 0)});return b.cancel=A(i+" - runid: "+l+" - cancel",function(){try{_&&Sn(_);var x=c.return(void 0),j=Promise.resolve(x.value);j.then(fe,fe),Sn(j),h(new Or)}catch(U){h(U)}}),b};return s.isMobXFlow=!0,s},Ct);be.bound=D(Ps);function Sn(t){N(t.cancel)&&t.cancel()}function Ue(t){return(t==null?void 0:t.isMobXFlow)===!0}function xs(t,e){return t?e!==void 0?Le(t)?t[d].values_.has(e):!1:Le(t)||!!t[d]||Xt(t)||st(t)||bt(t):!1}function Sr(t){return xs(t)}function I(t,e){e===void 0&&(e=void 0),w();try{return t.apply(e)}finally{P()}}function ue(t){return t[d]}var Rs={has:function(e,r){return ue(e).has_(r)},get:function(e,r){return ue(e).get_(r)},set:function(e,r,n){var i;return ee(r)?(i=ue(e).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(e,r){var n;return ee(r)?(n=ue(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(e,r,n){var i;return(i=ue(e).defineProperty_(r,n))!=null?i:!0},ownKeys:function(e){return ue(e).ownKeys_()},preventExtensions:function(e){p(13)}};function Cs(t,e){var r,n;return Fn(),t=Se(t,e),(n=(r=t[d]).proxy_)!=null?n:r.proxy_=new Proxy(t,Rs)}function E(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Ke(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),kn(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function $(t,e){var r=se();try{for(var n=[].concat(t.interceptors_||[]),i=0,s=n.length;i<s&&(e=n[i](e),e&&!e.type&&p(14),!!e);i++);return e}finally{H(r)}}function R(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Fe(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),kn(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function C(t,e){var r=se(),n=t.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](e);H(r)}}function tn(t,e,r){return ae(function(){var n,i=Se(t,r)[d];(n=e)!=null||(e=_i(t)),_t(e).forEach(function(s){return i.make_(s,e[s])})}),t}var En="splice",B="update",Ns=1e4,Ts={get:function(e,r){var n=e[d];return r===d?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):V(ot,r)?ot[r]:e[r]},set:function(e,r,n){var i=e[d];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){p(15)}},nn=function(){function t(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new He(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return Ke(this,n)},e.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Fe(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&p("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},e.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&p(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&Ur(n+i+1)},e.spliceWithArray_=function(n,i,s){var o=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=jt),E(this)){var u=$(this,{object:this.proxy_,type:En,index:n,removedCount:i,added:s});if(!u)return jt;i=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(h){return o.enhancer_(h,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var c=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(n,i,s){if(s.length<Ns){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),u=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[n+l]=s[l];for(var c=0;c<u.length;c++)this.values_[n+s.length+c]=u[c];return a}},e.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&Re(),a=R(this),u=a||o?{observableKind:"array",object:this.proxy_,type:B,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&C(this,u)},e.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&Re(),a=R(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:En,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&C(this,u)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&p(17,n,s.length),n<s.length){this.atom_;var o=s[n];if(E(this)){var a=$(this,{type:B,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var u=i!==o;u&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var l=new Array(n+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},t}();function js(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),Fn(),ae(function(){var i=new nn(r,e,n,!1);qn(i.values_,d,i);var s=new Proxy(i.values_,Ts);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var ot={clear:function(){return this.splice(0)},replace:function(e){var r=this[d];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[d];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,r)}return o.spliceWithArray_(e,r,i)},spliceWithArray:function(e,r,n){return this[d].spliceWithArray_(e,r,n)},push:function(){for(var e=this[d],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[d].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[d],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return f.trackingDerivation&&p(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){f.trackingDerivation&&p(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var r=this[d],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};g("at",S);g("concat",S);g("flat",S);g("includes",S);g("indexOf",S);g("join",S);g("lastIndexOf",S);g("slice",S);g("toString",S);g("toLocaleString",S);g("toSorted",S);g("toSpliced",S);g("with",S);g("every",T);g("filter",T);g("find",T);g("findIndex",T);g("findLast",T);g("findLastIndex",T);g("flatMap",T);g("forEach",T);g("map",T);g("some",T);g("toReversed",T);g("reduce",Er);g("reduceRight",Er);function g(t,e){typeof Array.prototype[t]=="function"&&(ot[t]=e(t))}function S(t){return function(){var e=this[d];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function T(t){return function(e,r){var n=this,i=this[d];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(r,o,a,n)})}}function Er(t){return function(){var e=this,r=this[d];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},n[t].apply(n,arguments)}}var Us=ie("ObservableArrayAdministration",nn);function yt(t){return ht(t)&&Us(t[d])}var $r,wr,Ls={},F="add",at="delete";$r=Symbol.iterator;wr=Symbol.toStringTag;var Pr=function(){function t(r,n,i){var s=this;n===void 0&&(n=ne),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[d]=Ls,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,N(Map)||p(18),ae(function(){s.keysAtom_=Yn("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var i=this;if(!f.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new Z(this.has_(n),vt,"ObservableMap.key?",!1);this.hasMap_.set(n,o),yr(o,function(){return i.hasMap_.delete(n)})}return s.get()},e.set=function(n,i){var s=this.has_(n);if(E(this)){var o=$(this,{type:s?B:F,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},e.delete=function(n){var i=this;if(this.keysAtom_,E(this)){var s=$(this,{type:at,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=Re(),a=R(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:at,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return I(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(n))==null||l.setNewValue_(!1);var c=i.data_.get(n);c.setNewValue_(void 0),i.data_.delete(n)}),a&&C(this,u),!0}return!1},e.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==f.UNCHANGED){var o=Re(),a=R(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:B,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&C(this,u)}},e.addValue_=function(n,i){var s=this;this.keysAtom_,I(function(){var l,c=new Z(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,c),i=c.value_,(l=s.hasMap_.get(n))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Re(),a=R(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:F,object:this,name:n,newValue:i}:null;a&&C(this,u)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,i=this.keys();return De({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:n.get(u)}}})},e.entries=function(){var n=this,i=this.keys();return De({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,n.get(u)]}}})},e[$r]=function(){return this.entries()},e.forEach=function(n,i){for(var s=he(this),o;!(o=s()).done;){var a=o.value,u=a[0],l=a[1];n.call(i,l,u,this)}},e.merge=function(n){var i=this;return oe(n)&&(n=new Map(n)),I(function(){q(n)?li(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):ye(n)?(n.constructor!==Map&&p(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&p(20,n)}),this},e.clear=function(){var n=this;I(function(){lr(function(){for(var i=he(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.replace=function(n){var i=this;return I(function(){for(var s=Ms(n),o=new Map,a=!1,u=he(i.data_.keys()),l;!(l=u()).done;){var c=l.value;if(!s.has(c)){var h=i.delete(c);if(h)a=!0;else{var _=i.data_.get(c);o.set(c,_)}}}for(var b=he(s.entries()),x;!(x=b()).done;){var j=x.value,U=j[0],ke=j[1],Ot=i.data_.has(U);if(i.set(U,ke),i.data_.has(U)){var Ee=i.data_.get(U);o.set(U,Ee),Ot||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var O=i.data_.keys(),G=o.keys(),J=O.next(),an=G.next();!J.done;){if(J.value!==an.value){i.keysAtom_.reportChanged();break}J=O.next(),an=G.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,i){return Fe(this,n)},e.intercept_=function(n){return Ke(this,n)},Wt(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:wr,get:function(){return"Map"}}]),t}(),oe=ie("ObservableMap",Pr);function Ms(t){if(ye(t)||oe(t))return t;if(Array.isArray(t))return new Map(t);if(q(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return p(21,t)}var xr,Rr,Ds={};xr=Symbol.iterator;Rr=Symbol.toStringTag;var Cr=function(){function t(r,n,i){var s=this;n===void 0&&(n=ne),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[d]=Ds,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,N(Set)||p(22),this.enhancer_=function(o,a){return n(o,a,i)},ae(function(){s.atom_=Yn(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;I(function(){lr(function(){for(var i=he(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.forEach=function(n,i){for(var s=he(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},e.add=function(n){var i=this;if(this.atom_,E(this)){var s=$(this,{type:F,object:this,newValue:n});if(!s)return this}if(!this.has(n)){I(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=R(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:F,object:this,newValue:n}:null;a&&C(this,u)}return this},e.delete=function(n){var i=this;if(E(this)){var s=$(this,{type:at,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=R(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:at,object:this,oldValue:n}:null;return I(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&C(this,u),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,i=Array.from(this.keys()),s=Array.from(this.values());return De({next:function(){var a=n;return n+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,i=0,s=Array.from(this.data_.values());return De({next:function(){return i<s.length?{value:n.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.replace=function(n){var i=this;return Oe(n)&&(n=new Set(n)),I(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):Ie(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&p("Cannot initialize set from "+n)}),this},e.observe_=function(n,i){return Fe(this,n)},e.intercept_=function(n){return Ke(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[xr]=function(){return this.values()},Wt(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Rr,get:function(){return"Set"}}]),t}(),Oe=ie("ObservableSet",Cr),$n=Object.create(null),wn="remove",Nr=function(){function t(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=Vi),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new He("ObservableObject.keys"),this.isPlainObject_=q(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof ge)return s.set(i),!0;if(E(this)){var o=$(this,{type:B,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==f.UNCHANGED){var a=R(this),u=!1,l=a||u?{type:B,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&C(this,l)}return!0},e.get_=function(n){return f.trackingDerivation&&!V(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,i,s){return s===void 0&&(s=!1),V(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!f.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Z(n in this.target_,vt,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},e.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[L])!=null&&s[n])return;p(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==ft;){var a=Qe(o,n);if(a){var u=i.make_(this,n,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}xn(this,i,n)}},e.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&xn(this,s,n),a},e.defineProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{w();var o=this.delete_(n);if(!o)return o;if(E(this)){var a=$(this,{object:this.proxy_||this.target_,name:n,type:F,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=te({},i,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else M(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{P()}return!0},e.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{w();var a=this.delete_(n);if(!a)return a;if(E(this)){var u=$(this,{object:this.proxy_||this.target_,name:n,type:F,newValue:i});if(!u)return null;i=u.newValue}var l=Pn(n),c={configurable:f.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,n,c))return!1}else M(this.target_,n,c);var h=new Z(i,s,"ObservableObject.key",!1);this.values_.set(n,h),this.notifyPropertyAddition_(n,h.value_)}finally{P()}return!0},e.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{w();var o=this.delete_(n);if(!o)return o;if(E(this)){var a=$(this,{object:this.proxy_||this.target_,name:n,type:F,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=Pn(n),l={configurable:f.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,n,l))return!1}else M(this.target_,n,l);this.values_.set(n,new ge(i)),this.notifyPropertyAddition_(n,void 0)}finally{P()}return!0},e.delete_=function(n,i){if(i===void 0&&(i=!1),this.keysAtom_,!V(this.target_,n))return!0;if(E(this)){var s=$(this,{object:this.proxy_||this.target_,name:n,type:wn});if(!s)return null}try{var o,a;w();var u=R(this),l=!1,c=this.values_.get(n),h=void 0;if(!c&&(u||l)){var _;h=(_=Qe(this.target_,n))==null?void 0:_.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(c&&(this.values_.delete(n),c instanceof Z&&(h=c.value_),_r(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(a=o.get(n))==null||a.set(n in this.target_),u||l){var b={type:wn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:n};u&&C(this,b)}}finally{P()}return!0},e.observe_=function(n,i){return Fe(this,n)},e.intercept_=function(n){return Ke(this,n)},e.notifyPropertyAddition_=function(n,i){var s,o,a=R(this),u=!1;if(a||u){var l=a||u?{type:F,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;a&&C(this,l)}(s=this.pendingKeys_)==null||(o=s.get(n))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),_t(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Se(t,e){var r;if(V(t,d))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",i=new Nr(t,new Map,String(n),Yi(e));return dt(t,d,i),t}var Bs=ie("ObservableObjectAdministration",Nr);function Pn(t){return $n[t]||($n[t]={get:function(){return this[d].getObservablePropValue_(t)},set:function(r){return this[d].setObservablePropValue_(t,r)}})}function Le(t){return ht(t)?Bs(t[d]):!1}function xn(t,e,r){var n;(n=t.target_[L])==null||delete n[r]}var Is=jr(0),Vs=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Nt=0,Tr=function(){};function Hs(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}Hs(Tr,Array.prototype);var rn=function(t,e,r){Xn(n,t);function n(s,o,a,u){var l;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),l=t.call(this)||this,ae(function(){var c=new nn(a,o,u,!0);c.proxy_=Pt(l),qn(Pt(l),d,c),s&&s.length&&l.spliceWithArray(0,0,s),Vs&&Object.defineProperty(Pt(l),"0",Is)}),l}var i=n.prototype;return i.concat=function(){this[d].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(l){return yt(l)?l.slice():l}))},i[r]=function(){var s=this,o=0;return De({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},Wt(n,[{key:"length",get:function(){return this[d].getArrayLength_()},set:function(o){this[d].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),n}(Tr,Symbol.toStringTag,Symbol.iterator);Object.entries(ot).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&dt(rn.prototype,e,r)});function jr(t){return{enumerable:!1,configurable:!0,get:function(){return this[d].get_(t)},set:function(r){this[d].set_(t,r)}}}function Gs(t){M(rn.prototype,""+t,jr(t))}function Ur(t){if(t>Nt){for(var e=Nt;e<t+100;e++)Gs(e);Nt=t}}Ur(1e3);function Ks(t,e,r){return new rn(t,e,r)}function Me(t,e){if(typeof t=="object"&&t!==null){if(yt(t))return e!==void 0&&p(23),t[d].atom_;if(Oe(t))return t.atom_;if(oe(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||p(25,e,Ht(t)),r}if(Le(t)){if(!e)return p(26);var n=t[d].values_.get(e);return n||p(27,e,Ht(t)),n}if(Xt(t)||bt(t)||st(t))return t}else if(N(t)&&st(t[d]))return t[d];p(28)}function Lr(t,e){if(t||p(29),e!==void 0)return Lr(Me(t,e));if(Xt(t)||bt(t)||st(t)||oe(t)||Oe(t))return t;if(t[d])return t[d];p(24,t)}function Ht(t,e){var r;if(e!==void 0)r=Me(t,e);else{if(mt(t))return t.name;Le(t)||oe(t)||Oe(t)?r=Lr(t):r=Me(t)}return r.name_}function ae(t){var e=se(),r=Zt(!0);w();try{return t()}finally{P(),Qt(r),H(e)}}var Rn=ft.toString;function sn(t,e,r){return r===void 0&&(r=-1),Gt(t,e,r)}function Gt(t,e,r,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=Rn.call(t);if(o!==Rn.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=Cn(t),e=Cn(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(N(u)&&u instanceof u&&N(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),a){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!Gt(t[c],e[c],r-1,n,i))return!1}else{var h=Object.keys(t),_;if(c=h.length,Object.keys(e).length!==c)return!1;for(;c--;)if(_=h[c],!(V(e,_)&&Gt(t[_],e[_],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function Cn(t){return yt(t)?t.slice():ye(t)||oe(t)||Ie(t)||Oe(t)?Array.from(t.entries()):t}function De(t){return t[Symbol.iterator]=Fs,t}function Fs(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Hn();typeof e[t]>"u"&&p("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:_s,extras:{getDebugName:Ht},$mobx:d});const ks=si,Mr=24,Xe=6;class Tt{constructor(e){if(this.ground=[],this.enemies=[],this.items=[],e)this.ground=e.ground,this.enemies=e.enemies;else for(let r=0;r<Mr;r++)this.ground.push(1);tn(this,{ground:m,enemies:m,items:m,toggleGroundTile:A,hideGroundTile:A,showGroundTile:A,addEnemy:A,removeEnemy:A}),mr(()=>{const r=new CustomEvent("segment-updated",{detail:{segment:this,ground:this.ground,enemies:this.enemies,items:this.items}});window.dispatchEvent(r)})}toggleGroundTile(e){const r=[...this.ground];r[e]=r[e]===0?1:0,this.ground=r}hideGroundTile(e){const r=[...this.ground];r[e]=0,this.ground=r}showGroundTile(e){const r=[...this.ground];r[e]=1,this.ground=r}addEnemy(e,r){const n=[...this.enemies],i=[e,r];n.push(i),this.enemies=n}removeEnemy(e){const r=[...this.enemies];this.enemies=r.filter(n=>n!==e)}toJSON(){return{ground:this.ground,enemies:this.enemies,items:this.items}}}class zs{constructor(){this.segments=[],this.readURL(),tn(this,{segments:m.deep,addSegment:A,removeSegment:A}),window.addEventListener("segment-updated",e=>{this.writeURL()})}addSegment(){const e=new Tt;this.segments.push(e),this.writeURL()}removeSegment(e){this.segments=this.segments.filter(r=>r!==e),this.writeURL()}removeSegmentByIndex(e){this.segments=this.segments.filter((r,n)=>n!==e),this.writeURL()}writeURL(){const e=new URL(window.location.href),r=this.segments.map(n=>n.toJSON());e.searchParams.set("segments",JSON.stringify(r)),window.history.replaceState({},"",e.toString())}readURL(){const r=new URL(window.location.href).searchParams.get("segments");if(r){const n=JSON.parse(r);this.segments=n.map(i=>new Tt(i))}}export(){let e=`{
`;this.segments.forEach((s,o)=>{e+=`    // segment ${o}
`,e+=`  {
`;for(var a=[],u=s.ground.length/8,l=0;l<u;l++)a.push(0);for(var c=0;c<s.ground.length;c++){var h=s.ground[c],l=Math.floor(c/8),_=c%8;h!=0&&(a[l]|=1<<_)}e+=`    {${a.join(", ")}},
`,e+=`    {
`,s.enemies.forEach(b=>{e+=`      {${b.join(", ")}}, // Enemy
`}),e+=`    },
`,e+=`    {
`,s.items.forEach(()=>{e+=`      {},
`}),e+=`    }
`,e+=`  },
`}),e+=`};
`;const r=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download="segments.cpp",i.click(),URL.revokeObjectURL(n)}exportJSON(){const e=this.segments.map(s=>s.toJSON()),r=new Blob([JSON.stringify(e)],{type:"text/plain"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download="segments.json",i.click(),URL.revokeObjectURL(n)}loadJSON(){const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=r=>{var s;const i=(s=r.target.files)==null?void 0:s[0];if(i){const o=new FileReader;o.onload=a=>{const u=a.target,l=JSON.parse(u.result);this.segments=l.map(c=>new Tt(c))},o.readAsText(i)}},e.click()}}const de=new zs,qs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAALNJREFUWIXtl8EKwDAIQ+PY//+yOxVKpzZ2Lbso7DKceUQtnQBQ/BjXn+IFUAAFUAAFUAAFAAA3m6jqXxtEZBlAQFxImrgl1IOtgEwBIvGVvDHMGRjtbkVV9fVYObN6faRmwGtBey8ioZgVR7YgA0E7wBbOuuACWEVa8b4Vnhi7HSZAJMBOOZtHt8Cz9sshlALYIWYFtQWZodq+htEBM/uGygX5c8oCZNu0dQay9gMJB07FA1qhXzUxYkfpAAAAAElFTkSuQmCC",Js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAALhJREFUWIXtl8EKxDAIRMey///Ls6ewJmgxmiUXB0opTZPnaGMrAIiCSEJE0s8/lcVPqAEaoAEaoAEa4DrAJzKI/HXsSutNA+hFq/0/BWBJu/I3AM967UIVxAVYrdbXJ1MgML4JvTyPaNd7lgtRSBPgTZYzHlQEIgywRunVwO4bE9qIrPyTnKIfx25RhnfCMbFnuaXImBDAGr0+Z6Ke5kbxzwio7Y7Xm9F1gHQvAPYK0tORGqjoegq+qU5XUFaaztcAAAAASUVORK5CYII=",Ws=32,on=[{type:1,y:28,cx:14,cy:20,cr:10,src:qs},{type:2,y:0,cx:12,cy:20,cr:10,src:Js}];function Xs(t){const e=on.find(r=>r.type===t);if(e)return e.src;throw new Error("Unknown enemy type")}class Ys{constructor(){this.selectedEnemy=null,tn(this,{selectedEnemy:m,setSelectedEnemy:A})}setSelectedEnemy(e){this.selectedEnemy=e}}const _e=new Ys,le=Symbol("LitMobxRenderReaction"),Nn=Symbol("LitMobxRequestUpdate");function Zs(t,e){var r,n;return n=class extends t{constructor(){super(...arguments),this[r]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();const s=this.constructor.name||this.nodeName;this[le]=new e(`${s}.update()`,this[Nn]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[le]&&(this[le].dispose(),this[le]=void 0)}update(s){this[le]?this[le].track(super.update.bind(this,s)):super.update(s)}},r=Nn,n}function Qs(t){return Zs(t,it)}class Dr extends Qs(Y){}var eo=Object.defineProperty,to=Object.getOwnPropertyDescriptor,no=(t,e,r,n)=>{for(var i=n>1?void 0:n?to(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&eo(e,r,i),i};let Kt=class extends Dr{render(){return z`
      <div>
        <button @click=${()=>de.addSegment()}>+</button>
        <button @click=${()=>de.export()}>Export C++</button>
        <button @click=${()=>de.exportJSON()}>Export JSON</button>
        <button @click=${()=>de.loadJSON()}>Load JSON</button>
      </div>
      <div>
        ${on.map(t=>z`<button
            ?selected=${_e.selectedEnemy===t.type}
            @click=${()=>{_e.selectedEnemy===t.type?_e.setSelectedEnemy(null):_e.setSelectedEnemy(t.type)}}
          >
            <img src="${t.src}" />
          </button>`)}
      </div>
    `}};Kt.styles=ut`
    button[selected] {
      background-color: blue;
    }
  `;Kt=no([ct("a-toolbar")],Kt);var ro=Object.defineProperty,io=Object.getOwnPropertyDescriptor,At=(t,e,r,n)=>{for(var i=n>1?void 0:n?io(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&ro(e,r,i),i};let me=class extends Y{constructor(){super(...arguments),this.draggingGroundTile=!1,this.hideTile=!1,this.pointerMoveHandler=null,this.pointerUpHandler=null}handle_ground_POINTERDOWN(t,e){e===0?this.hideTile=!1:this.hideTile=!0,t.stopPropagation(),this.draggingGroundTile=!0,this.pointerMoveHandler||(this.pointerMoveHandler=r=>this.handle_ground_POINTERMOVE(r),window.addEventListener("pointermove",this.pointerMoveHandler)),this.pointerUpHandler||(this.pointerUpHandler=r=>this.handle_ground_POINTERUP(r),window.addEventListener("pointerup",this.pointerUpHandler))}handle_ground_POINTERMOVE(t){console.log("pointermove"),this.handle_DRAGGING_GROUND(t)}handle_ground_POINTERUP(t){console.log("mouseup"),t.stopPropagation(),this.draggingGroundTile=!1,window.removeEventListener("pointermove",this.pointerMoveHandler),window.removeEventListener("pointerup",this.pointerUpHandler),this.pointerMoveHandler=null,this.pointerUpHandler=null}handle_DRAGGING_GROUND(t){if(this.draggingGroundTile&&t.target instanceof HTMLElement){const e=t.target.getBoundingClientRect();t.clientX-e.left,t.clientX-e.top;const r=this.shadowRoot.elementsFromPoint(t.clientX,t.clientY);for(const n of r)n instanceof HTMLElement&&n.classList.contains("ground-tile")&&(this.hideTile?this.segment.hideGroundTile(parseInt(n.dataset.index)):this.segment.showGroundTile(parseInt(n.dataset.index)));this.requestUpdate()}}handle_segment_CLICK(t){if(_e.selectedEnemy!==null&&t.target instanceof HTMLElement){const e=t.target.getBoundingClientRect();let r=t.clientX-e.left;r=Math.round(r/4)-Ws/2,this.segment.addEnemy(_e.selectedEnemy,r),this.requestUpdate()}}render(){return z`
      <div class="container">
        <div
          class="segment"
          @click=${t=>this.handle_segment_CLICK(t)}
        >
          ${this.segment.enemies.map(t=>{const r=on.find(n=>n.type===t[0]).y;return z`<div
              class="enemy"
              style="left: ${t[1]}px; top: ${r}px"
            >
              <button
                class="enemy-delete-btn"
                @click=${n=>{n.stopPropagation(),this.segment.removeEnemy(t),this.requestUpdate()}}
              >
                delete
              </button>
              <img src="${Xs(t[0])}" />
            </div>`})}
          ${this.segment.ground.map((t,e)=>z`<div
              draggable="false"
              class="ground-tile"
              style="left: ${e*Xe}px"
              data-index=${e}
              @pointerdown=${r=>this.handle_ground_POINTERDOWN(r,t)}
              @click=${r=>{r.stopPropagation(),this.segment.toggleGroundTile(e),this.requestUpdate()}}
            >
              <img src="${t===1?ks:""}" />
            </div>`)}
        </div>
        <button
          class="segment-delete-btn"
          @click=${()=>{de.removeSegment(this.segment),this.requestUpdate()}}
        >
          -
        </button>
      </div>
    `}};me.styles=ut`
    .segment {
      position: relative;
      width: ${Mr*Xe}px;
      height: 64px;
      background-color: black;
      border: 2px solid blue;
      color: white;
    }

    .segment-delete-btn {
      transform-origin: top left;
      transform: scale(0.25);
    }

    .enemy {
      position: absolute;
      width: 32px;
      height: 32px;
      image-rendering: pixelated;
    }

    .enemy img {
      width: 100%;
      height: 100%;
    }

    .ground-tile {
      position: absolute;
      width: ${Xe}px;
      height: ${Xe}px;
      bottom: 0;
      cursor: pointer;
    }

    .ground-tile img {
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      image-rendering: pixelated;
    }

    .enemy-delete-btn {
      position: absolute;
      top: 0;
      right: 0;
      transform-origin: top right;
      transform: scale(0.25);
    }
  `;At([In({type:Object})],me.prototype,"segment",2);At([Vn()],me.prototype,"draggingGroundTile",2);At([Vn()],me.prototype,"hideTile",2);me=At([ct("a-segment")],me);var so=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,ao=(t,e,r,n)=>{for(var i=n>1?void 0:n?oo(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&so(e,r,i),i};let Ft=class extends Dr{render(){return z`<div class="container">
      ${de.segments.map(t=>z`<a-segment .segment=${t}></a-segment>`)}
    </div> `}};Ft.styles=ut`
    .container {
      display: flex;
      overflow-x: scroll;
      transform-origin: top left;
      transform: scale(4);
    }
  `;Ft=ao([ct("a-editor")],Ft);var uo=Object.defineProperty,lo=Object.getOwnPropertyDescriptor,co=(t,e,r,n)=>{for(var i=n>1?void 0:n?lo(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&uo(e,r,i),i};let kt=class extends Y{render(){return z`
      <div>
        <a-toolbar></a-toolbar>
        <a-editor></a-editor>
      </div>
    `}};kt.styles=ut`
    a-toolbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
    }

    a-editor {
      display: block;
      padding-top: 64px;
  `;kt=co([ct("editor-app")],kt);
